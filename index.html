<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
    <title>4X Space Conquest</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="gameContainer">
        <canvas id="gameCanvas"></canvas>

        <!-- Start Screen -->
        <div id="startScreen">
            <h1>4X SPACE</h1>
            <div class="subtitle">Conquest</div>

            <div class="menu-section">
                <h2>Galaxy Size</h2>
                <div class="option-group">
                    <button class="option-btn selected" data-size="compact">Compact</button>
                    <button class="option-btn" data-size="standard">Standard</button>
                    <button class="option-btn" data-size="vast">Vast</button>
                </div>
            </div>

            <div class="menu-section">
                <h2>AI Difficulty</h2>
                <div class="option-group">
                    <button class="option-btn difficulty-easy selected" data-difficulty="easy">Easy</button>
                    <button class="option-btn difficulty-medium" data-difficulty="medium">Medium</button>
                    <button class="option-btn difficulty-hard" data-difficulty="hard">Hard</button>
                </div>
            </div>

            <div class="menu-section">
                <h2>Your Empire Color</h2>
                <div class="color-picker" id="playerColorPicker">
                    <div class="color-tile" data-color="blue" style="background: #0096ff;"></div>
                    <div class="color-tile" data-color="red" style="background: #ff3232;"></div>
                    <div class="color-tile" data-color="purple" style="background: #a855f7;"></div>
                    <div class="color-tile" data-color="green" style="background: #00ff88;"></div>
                    <div class="color-tile" data-color="white" style="background: #ffffff;"></div>
                    <div class="color-tile" data-color="orange" style="background: #ff8800;"></div>
                </div>
            </div>

            <div class="menu-section">
                <h2>AI Empire Color</h2>
                <div class="color-picker" id="aiColorPicker">
                    <div class="color-tile" data-color="blue" style="background: #0096ff;"></div>
                    <div class="color-tile" data-color="red" style="background: #ff3232;"></div>
                    <div class="color-tile" data-color="purple" style="background: #a855f7;"></div>
                    <div class="color-tile" data-color="green" style="background: #00ff88;"></div>
                    <div class="color-tile" data-color="white" style="background: #ffffff;"></div>
                    <div class="color-tile" data-color="orange" style="background: #ff8800;"></div>
                </div>
            </div>

            <div class="menu-section">
                <h2>Influence Zone Transparency</h2>
                <div class="slider-container">
                    <input type="range" id="transparencySlider" min="2" max="25" value="15" step="1">
                    <div class="slider-labels">
                        <span>Subtle</span>
                        <span id="transparencyValue">15%</span>
                        <span>Strong</span>
                    </div>
                </div>
            </div>

            <button id="startBtn">LAUNCH</button>
        </div>

        <!-- Game UI -->
        <div id="ui">
            <div class="resources-row">
                <div class="resource energy">
                    <span class="resource-icon">‚ö°</span>
                    <span id="energyCount">100</span>
                </div>
                <div class="resource minerals">
                    <span class="resource-icon">‚õèÔ∏è</span>
                    <span id="mineralsCount">100</span>
                </div>
                <div class="resource food">
                    <span class="resource-icon">üåø</span>
                    <span id="foodCount">100</span>
                </div>
                <div class="resource score">
                    <span class="resource-icon">‚≠ê</span>
                    <span id="scoreCount">0</span>
                </div>
            </div>
            <div id="turnInfo">
                <span>Turn <span id="turnCount">1</span></span>
                <button id="endTurnBtn">END TURN</button>
                <button id="influenceToggleBtn" title="Toggle Influence Zones (I)">üó∫Ô∏è</button>
                <button id="settingsBtn" title="Settings (S)">‚öôÔ∏è</button>
            </div>
        </div>

        <!-- Settings Overlay -->
        <div id="settingsOverlay">
            <div class="settings-panel">
                <div class="settings-header">
                    <h2>‚öôÔ∏è Settings</h2>
                    <button class="close-btn" onclick="closeSettings()">&times;</button>
                </div>
                <div class="settings-content">
                    <div class="setting-item">
                        <h3>Influence Zone Transparency</h3>
                        <div class="slider-container">
                            <input type="range" id="gameTransparencySlider" min="2" max="25" value="15" step="1">
                            <div class="slider-labels">
                                <span>Subtle (2%)</span>
                                <span id="gameTransparencyValue">15%</span>
                                <span>Strong (25%)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Unified Panel -->
        <div id="unifiedPanel">
            <div class="unified-header">
                <span class="planet-name" id="selectedPlanetName">Planet</span>
                <button class="close-btn" onclick="closePlanetPanel()">&times;</button>
            </div>

            <div id="planetContent"></div>

            <div class="section-divider"></div>

            <div class="fleet-section">
                <h3>Fleet</h3>
                <div class="fleet-tabs">
                    <button class="fleet-tab active" data-tab="stationed" onclick="switchFleetTab('stationed')">Stationed</button>
                    <button class="fleet-tab" data-tab="transit" onclick="switchFleetTab('transit')">In Transit</button>
                </div>
                <div id="fleetContent"></div>
            </div>

            <div class="section-divider"></div>

            <div class="shipyard-section">
                <h3>Shipyard</h3>
                <div id="shipyardContent"></div>
            </div>
        </div>

        <!-- Notifications -->
        <div id="notifications"></div>

        <!-- Destination Hint -->
        <div id="destinationHint">Select destination planet</div>

        <!-- Battle Dialog -->
        <div id="battleDialog">
            <h2>‚öîÔ∏è ENEMY CONTACT</h2>
            <div class="battle-info">
                <p id="battleLocation"></p>
                <p id="battleEnemyForce"></p>
                <p id="battleYourForce"></p>
            </div>
            <div class="battle-buttons">
                <button class="battle-btn fight" onclick="resolveBattle('fight')">‚öîÔ∏è FIGHT</button>
                <button class="battle-btn withdraw" onclick="resolveBattle('withdraw')">üèÉ WITHDRAW</button>
            </div>
        </div>

        <!-- Battle Results Dialog -->
        <div id="battleResultsDialog">
            <!-- Content will be dynamically generated -->
        </div>

        <!-- Zoom Indicator -->
        <div id="zoomIndicator">Zoom: 100%</div>

        <!-- Version Display -->
        <div id="versionDisplay">v1.0.5</div>

        <!-- Game Over Screen -->
        <div id="gameOverScreen">
            <h1 id="gameOverTitle">VICTORY</h1>
            <p id="gameOverMessage">You have conquered the galaxy!</p>
            <button id="restartBtn" onclick="location.reload()">PLAY AGAIN</button>
        </div>
    </div>

    <!-- Load JavaScript Modules -->
    <script type="module" src="js/main.js"></script>
</body>
</html>
