        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            touch-action: none;
        }
        
        body {
            background: #000;
            color: #fff;
            font-family: 'Exo 2', sans-serif;
            overflow: hidden;
            user-select: none;
            -webkit-user-select: none;
        }
        
        #gameContainer {
            position: relative;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
        }
        
        #gameCanvas {
            position: absolute;
            top: 0;
            left: 0;
        }
        
        /* Start Screen */
        #startScreen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at 30% 20%, #0a1628 0%, #050a12 50%, #000 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }
        
        #startScreen h1 {
            font-family: 'Orbitron', monospace;
            font-size: clamp(2rem, 8vw, 4rem);
            font-weight: 900;
            background: linear-gradient(135deg, #00f0ff, #0080ff, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 60px rgba(0, 240, 255, 0.5);
            margin-bottom: 10px;
            letter-spacing: 4px;
        }
        
        #startScreen .subtitle {
            font-size: clamp(0.8rem, 3vw, 1.2rem);
            color: #667;
            margin-bottom: 40px;
            letter-spacing: 8px;
            text-transform: uppercase;
        }
        
        .menu-section {
            margin-bottom: 30px;
            text-align: center;
        }
        
        .menu-section h2 {
            font-family: 'Orbitron', monospace;
            font-size: 0.9rem;
            color: #0af;
            margin-bottom: 15px;
            letter-spacing: 3px;
        }
        
        .option-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .option-btn {
            padding: 15px 25px;
            background: rgba(0, 170, 255, 0.1);
            border: 2px solid rgba(0, 170, 255, 0.3);
            border-radius: 8px;
            color: #0af;
            font-family: 'Orbitron', monospace;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 100px;
        }
        
        .option-btn:hover, .option-btn.selected {
            background: rgba(0, 170, 255, 0.3);
            border-color: #0af;
            box-shadow: 0 0 30px rgba(0, 170, 255, 0.4);
            transform: scale(1.05);
        }
        
        .option-btn.selected {
            background: rgba(0, 170, 255, 0.4);
            color: #fff;
        }
        
        .difficulty-easy { border-color: rgba(0, 255, 136, 0.3); color: #0f8; }
        .difficulty-easy:hover, .difficulty-easy.selected { 
            border-color: #0f8; 
            background: rgba(0, 255, 136, 0.3);
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.4);
        }
        
        .difficulty-medium { border-color: rgba(255, 200, 0, 0.3); color: #fc0; }
        .difficulty-medium:hover, .difficulty-medium.selected { 
            border-color: #fc0; 
            background: rgba(255, 200, 0, 0.3);
            box-shadow: 0 0 30px rgba(255, 200, 0, 0.4);
        }
        
        .difficulty-hard { border-color: rgba(255, 68, 68, 0.3); color: #f44; }
        .difficulty-hard:hover, .difficulty-hard.selected { 
            border-color: #f44; 
            background: rgba(255, 68, 68, 0.3);
            box-shadow: 0 0 30px rgba(255, 68, 68, 0.4);
        }
        
        #startBtn {
            margin-top: 30px;
            padding: 20px 60px;
            background: linear-gradient(135deg, #0080ff, #00f0ff);
            border: none;
            border-radius: 12px;
            color: #000;
            font-family: 'Orbitron', monospace;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 3px;
        }
        
        #startBtn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 50px rgba(0, 240, 255, 0.6);
        }
        
        /* Game UI */
        #ui {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(5, 15, 30, 0.95);
            padding: 15px;
            border-radius: 12px;
            border: 1px solid rgba(0, 170, 255, 0.3);
            backdrop-filter: blur(10px);
            display: none;
            max-width: 280px;
            z-index: 50;
        }
        
        .resources-row {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 10px;
        }
        
        .resource {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 6px 10px;
            background: rgba(30, 40, 60, 0.8);
            border-radius: 6px;
            font-size: 0.85rem;
        }
        
        .resource-icon {
            font-size: 1rem;
        }
        
        .resource.energy { border-left: 3px solid #ff0; }
        .resource.minerals { border-left: 3px solid #888; }
        .resource.food { border-left: 3px solid #0f0; }
        .resource.score { border-left: 3px solid #0af; }
        
        #turnInfo {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px;
            background: rgba(0, 170, 255, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(0, 170, 255, 0.2);
        }
        
        #turnInfo span {
            font-family: 'Orbitron', monospace;
            font-size: 0.9rem;
        }
        
        #endTurnBtn {
            padding: 8px 16px;
            background: linear-gradient(135deg, #0080ff, #00c0ff);
            border: none;
            border-radius: 6px;
            color: #000;
            font-family: 'Orbitron', monospace;
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        #endTurnBtn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(0, 200, 255, 0.5);
        }
        
        /* Action Buttons Container */
        /* Unified Panel */
        #unifiedPanel {
            position: absolute;
            top: 160px;
            left: 10px;
            width: 340px;
            max-height: calc(100vh - 180px);
            background: rgba(5, 15, 30, 0.98);
            border: 1px solid rgba(0, 170, 255, 0.4);
            border-radius: 12px;
            padding: 15px;
            display: none;
            z-index: 50;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .unified-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .unified-header .planet-name {
            font-size: 1.2rem;
            font-weight: bold;
            color: #0f8;
        }

        .section-divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(0, 170, 255, 0.3), transparent);
            margin: 20px 0;
        }

        .fleet-section h3,
        .shipyard-section h3 {
            font-family: 'Orbitron', monospace;
            font-size: 0.9rem;
            color: #0af;
            margin-bottom: 10px;
            letter-spacing: 2px;
        }

        .shipyard-section h3 {
            color: #fc0;
        }

        /* Two-column layout for ship lists */
        #fleetContent,
        #shipyardContent {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
        }

        #fleetContent .ship-row,
        #shipyardContent .ship-row {
            grid-column: span 1;
            padding: 6px;
            font-size: 0.85rem;
        }

        #fleetContent .ship-info,
        #shipyardContent .ship-info {
            gap: 4px;
        }

        #fleetContent .ship-count,
        #shipyardContent .ship-count {
            font-size: 0.7rem;
            padding: 1px 6px;
        }
        
        /* Fleet Panel */
        #fleetPanel {
            position: absolute;
            top: 360px;
            left: 20px;
            width: 320px;
            height: 250px;
            max-width: calc(100vw - 40px);
            background: rgba(5, 15, 30, 0.98);
            border: 1px solid rgba(0, 170, 255, 0.4);
            border-radius: 12px;
            padding: 15px;
            padding-right: 25px;
            display: none;
            z-index: 60;
            overflow-y: scroll;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
        }
        
        #fleetPanel::-webkit-scrollbar {
            width: 6px;
            background: rgba(0, 170, 255, 0.1);
            border-radius: 3px;
        }
        
        #fleetPanel::-webkit-scrollbar-track {
            background: rgba(0, 170, 255, 0.1);
            border-radius: 3px;
        }
        
        #fleetPanel::-webkit-scrollbar-thumb {
            background: rgba(0, 170, 255, 0.6);
            border-radius: 3px;
            min-height: 40px;
        }
        
        /* Custom scroll track visible element for iOS */
        .scroll-track {
            position: absolute;
            top: 50px;
            right: 6px;
            width: 20px;
            bottom: 15px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 4px;
            z-index: 10;
            touch-action: none;
            cursor: pointer;
        }
        
        .scroll-thumb {
            position: absolute;
            top: 0;
            left: 6px;
            width: 8px;
            min-height: 40px;
            background: rgba(0, 170, 255, 0.7);
            border-radius: 4px;
            touch-action: none;
            cursor: grab;
        }
        
        .scroll-thumb:active {
            cursor: grabbing;
            background: rgba(0, 170, 255, 1);
        }
        
        #planetPanel .scroll-thumb {
            background: rgba(0, 255, 136, 0.7);
        }
        
        #planetPanel .scroll-thumb:active {
            background: rgba(0, 255, 136, 1);
        }
        
        /* Shipyard Button */
        .shipyard-btn {
            border-color: rgba(255, 200, 0, 0.5) !important;
            color: #fc0 !important;
        }
        
        .shipyard-btn:hover {
            background: rgba(255, 200, 0, 0.2) !important;
            box-shadow: 0 0 30px rgba(255, 200, 0, 0.4) !important;
        }
        
        /* Shipyard Panel */
        #shipyardPanel {
            position: absolute;
            top: 620px;
            left: 20px;
            width: 320px;
            height: 250px;
            max-width: calc(100vw - 40px);
            background: rgba(5, 15, 30, 0.98);
            border: 1px solid rgba(255, 200, 0, 0.4);
            border-radius: 12px;
            padding: 15px;
            padding-right: 25px;
            display: none;
            z-index: 50;
            overflow-y: scroll;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
        }
        
        #shipyardPanel .scroll-track {
            top: 50px;
        }
        
        #shipyardPanel .scroll-thumb {
            background: rgba(255, 200, 0, 0.7);
        }
        
        #shipyardPanel::-webkit-scrollbar {
            width: 6px;
            background: rgba(255, 200, 0, 0.1);
            border-radius: 3px;
        }
        
        #shipyardPanel::-webkit-scrollbar-thumb {
            background: rgba(255, 200, 0, 0.6);
            border-radius: 3px;
        }
        
        /* Fleet Tabs */
        .fleet-tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(0, 170, 255, 0.2);
            padding-bottom: 10px;
        }
        
        .fleet-tab {
            flex: 1;
            padding: 8px 12px;
            background: rgba(0, 170, 255, 0.1);
            border: 1px solid rgba(0, 170, 255, 0.2);
            border-radius: 6px;
            color: #0af;
            font-family: 'Orbitron', monospace;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .fleet-tab:hover {
            background: rgba(0, 170, 255, 0.2);
        }
        
        .fleet-tab.active {
            background: rgba(0, 170, 255, 0.3);
            border-color: #0af;
            color: #fff;
        }
        
        .fleet-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(0, 170, 255, 0.2);
        }
        
        .fleet-header h3 {
            font-family: 'Orbitron', monospace;
            font-size: 1rem;
            color: #0af;
        }
        
        .close-btn {
            background: none;
            border: none;
            color: #666;
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.2s;
        }
        
        .close-btn:hover {
            color: #f44;
        }
        
        .fleet-planet {
            margin-bottom: 15px;
            padding: 10px;
            background: rgba(30, 40, 60, 0.5);
            border-radius: 8px;
            border: 1px solid rgba(0, 170, 255, 0.1);
        }
        
        .fleet-planet-name {
            font-family: 'Orbitron', monospace;
            font-size: 0.9rem;
            color: #0f8;
            margin-bottom: 8px;
        }
        
        .ship-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px;
            margin: 4px 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 6px;
            cursor: pointer;
            border: 1px solid transparent;
            transition: all 0.2s ease;
        }

        .ship-row:hover {
            background: rgba(0, 170, 255, 0.1);
            border-color: rgba(0, 170, 255, 0.3);
        }

        .ship-row.selected {
            background: rgba(168, 85, 247, 0.2);
            border-color: rgba(168, 85, 247, 0.5);
        }
        
        .ship-info {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .ship-health {
            display: flex;
            align-items: center;
            gap: 6px;
            min-width: 80px;
        }

        .health-bar {
            width: 40px;
            height: 6px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 3px;
            overflow: hidden;
        }

        .health-fill {
            height: 100%;
            transition: width 0.3s ease;
        }

        .health-text {
            font-size: 0.7rem;
            color: #aaa;
            min-width: 30px;
        }

        .ship-count {
            background: rgba(0, 170, 255, 0.2);
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
        }
        
        .send-btn {
            padding: 6px 12px;
            background: rgba(168, 85, 247, 0.3);
            border: 1px solid rgba(168, 85, 247, 0.5);
            border-radius: 4px;
            color: #a855f7;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .send-btn:hover {
            background: rgba(168, 85, 247, 0.5);
            color: #fff;
        }
        
        /* Individual ship selection */
        .ship-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 6px 10px;
            margin: 3px 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 4px;
            border: 1px solid transparent;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .ship-item:hover {
            background: rgba(0, 170, 255, 0.1);
            border-color: rgba(0, 170, 255, 0.3);
        }
        
        .ship-item.selected {
            background: rgba(168, 85, 247, 0.2);
            border-color: rgba(168, 85, 247, 0.5);
        }
        
        .ship-item .ship-icon {
            font-size: 1.1rem;
        }
        
        .ship-item .ship-hp {
            font-size: 0.7rem;
            color: #0f8;
            background: rgba(0, 255, 136, 0.1);
            padding: 2px 6px;
            border-radius: 3px;
        }
        
        .ship-item .ship-hp.damaged {
            color: #fc0;
            background: rgba(255, 200, 0, 0.1);
        }
        
        .ship-item .ship-hp.critical {
            color: #f44;
            background: rgba(255, 68, 68, 0.1);
        }
        
        .fleet-actions {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid rgba(0, 170, 255, 0.2);
        }
        
        .fleet-action-btn {
            flex: 1;
            padding: 10px;
            background: rgba(168, 85, 247, 0.2);
            border: 1px solid rgba(168, 85, 247, 0.4);
            border-radius: 6px;
            color: #a855f7;
            font-family: 'Orbitron', monospace;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .fleet-action-btn:hover:not(:disabled) {
            background: rgba(168, 85, 247, 0.4);
            color: #fff;
        }
        
        .fleet-action-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }
        
        .select-all-btn {
            padding: 4px 8px;
            background: rgba(0, 170, 255, 0.2);
            border: 1px solid rgba(0, 170, 255, 0.3);
            border-radius: 4px;
            color: #0af;
            font-size: 0.7rem;
            cursor: pointer;
            margin-left: auto;
        }
        
        .select-all-btn:hover {
            background: rgba(0, 170, 255, 0.4);
        }
        
        /* Planet Panel */
        #planetPanel {
            position: absolute;
            top: 100px;
            left: 20px;
            width: 320px;
            height: 250px;
            max-width: calc(100vw - 40px);
            background: rgba(5, 15, 30, 0.98);
            border: 1px solid rgba(0, 255, 136, 0.4);
            border-radius: 12px;
            padding: 15px;
            padding-right: 25px;
            display: none;
            z-index: 50;
            overflow-y: scroll;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
        }
        
        /* Planet Panel Custom Scrollbar Track */
        #planetPanel::after {
            content: '';
            position: fixed;
            top: 20px;
            right: 20px;
            width: 6px;
            height: calc(100vh - 120px);
            background: rgba(0, 255, 136, 0.2);
            border-radius: 3px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        #planetPanel.show-scroll::after {
            opacity: 1;
        }
        
        #planetPanel::-webkit-scrollbar {
            width: 6px;
            background: rgba(0, 255, 136, 0.1);
            border-radius: 3px;
        }
        
        #planetPanel::-webkit-scrollbar-track {
            background: rgba(0, 255, 136, 0.1);
            border-radius: 3px;
        }
        
        #planetPanel::-webkit-scrollbar-thumb {
            background: rgba(0, 255, 136, 0.6);
            border-radius: 3px;
            min-height: 40px;
        }
        
        /* Ensure scrollable on iOS */
        @supports (-webkit-touch-callout: none) {
            #planetPanel, #fleetPanel {
                -webkit-overflow-scrolling: touch;
            }
        }
        
        /* Scroll fade indicators */
        .scroll-container {
            position: relative;
        }
        
        .scroll-indicator {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 8px;
            height: 30px;
            background: linear-gradient(transparent, rgba(5, 15, 30, 0.95));
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .has-scroll .scroll-indicator {
            opacity: 1;
        }
        
        /* Force visible scrollbar on touch devices */
        @media (pointer: coarse) {
            #planetPanel, #fleetPanel {
                scrollbar-width: auto;
            }
            
            #planetPanel::-webkit-scrollbar,
            #fleetPanel::-webkit-scrollbar {
                width: 12px;
                display: block !important;
                -webkit-appearance: none;
            }
            
            #planetPanel::-webkit-scrollbar-thumb,
            #fleetPanel::-webkit-scrollbar-thumb {
                min-height: 50px;
                border: 3px solid transparent;
                background-clip: padding-box;
            }
        }
        
        .planet-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .planet-name {
            font-family: 'Orbitron', monospace;
            font-size: 1.1rem;
        }
        
        .planet-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-bottom: 15px;
        }
        
        .stat {
            padding: 8px;
            background: rgba(30, 40, 60, 0.5);
            border-radius: 6px;
            font-size: 0.8rem;
        }
        
        .stat-label {
            color: #667;
            font-size: 0.7rem;
            margin-bottom: 2px;
        }
        
        /* Shipyard Section */
        .shipyard-section {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(0, 170, 255, 0.2);
        }
        
        .shipyard-section h4 {
            font-family: 'Orbitron', monospace;
            font-size: 0.85rem;
            color: #0af;
            margin-bottom: 10px;
        }
        
        .build-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
        }
        
        .build-btn {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background: rgba(30, 40, 60, 0.5);
            border: 1px solid rgba(0, 170, 255, 0.2);
            border-radius: 6px;
            color: #fff;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .build-btn:hover:not(:disabled) {
            background: rgba(0, 170, 255, 0.2);
            border-color: rgba(0, 170, 255, 0.5);
        }
        
        .build-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }
        
        .build-cost {
            font-size: 0.7rem;
            color: #888;
        }
        
        /* Build Queue */
        .build-queue {
            margin-top: 10px;
        }

        .queue-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
        }

        .queue-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 6px 8px;
            background: rgba(168, 85, 247, 0.1);
            border-radius: 4px;
            font-size: 0.75rem;
        }
        
        .queue-cancel {
            background: none;
            border: none;
            color: #f44;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        /* Notifications */
        #notifications {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 70;
            pointer-events: none;
        }
        
        .notification {
            background: rgba(5, 15, 30, 0.95);
            border: 1px solid rgba(0, 170, 255, 0.5);
            border-radius: 8px;
            padding: 15px 25px;
            margin-bottom: 10px;
            font-family: 'Orbitron', monospace;
            font-size: 0.9rem;
            animation: notifyIn 0.3s ease, notifyOut 0.3s ease 2.7s;
            opacity: 0;
        }
        
        @keyframes notifyIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes notifyOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
        
        /* Victory/Defeat Screen */
        #gameOverScreen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }
        
        #gameOverScreen h1 {
            font-family: 'Orbitron', monospace;
            font-size: clamp(2rem, 10vw, 5rem);
            margin-bottom: 20px;
        }
        
        #gameOverScreen.victory h1 {
            background: linear-gradient(135deg, #0f8, #0af);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        #gameOverScreen.defeat h1 {
            background: linear-gradient(135deg, #f44, #f80);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        #gameOverScreen p {
            font-size: 1.2rem;
            color: #888;
            margin-bottom: 40px;
        }
        
        #restartBtn {
            padding: 15px 40px;
            background: linear-gradient(135deg, #0080ff, #00f0ff);
            border: none;
            border-radius: 10px;
            color: #000;
            font-family: 'Orbitron', monospace;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
        }
        
        /* Zoom indicator */
        #zoomIndicator {
            position: absolute;
            bottom: 20px;
            right: 20px;
            padding: 8px 15px;
            background: rgba(5, 15, 30, 0.8);
            border: 1px solid rgba(0, 170, 255, 0.3);
            border-radius: 6px;
            font-family: 'Orbitron', monospace;
            font-size: 0.8rem;
            color: #0af;
            display: none;
            z-index: 50;
        }
        
        /* Selecting destination mode */
        .selecting-destination #gameCanvas {
            cursor: crosshair;
        }
        
        .selecting-destination .destination-hint {
            display: block !important;
        }
        
        #destinationHint {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 15px 30px;
            background: rgba(168, 85, 247, 0.9);
            border-radius: 10px;
            font-family: 'Orbitron', monospace;
            font-size: 1rem;
            display: none;
            z-index: 55;
            pointer-events: none;
        }
        
        /* Battle Dialog */
        #battleDialog {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(5, 15, 30, 0.98);
            border: 2px solid rgba(255, 68, 68, 0.8);
            border-radius: 16px;
            padding: 25px;
            display: none;
            z-index: 100;
            min-width: 320px;
            box-shadow: 0 0 50px rgba(255, 68, 68, 0.4);
        }
        
        #battleDialog h2 {
            font-family: 'Orbitron', monospace;
            font-size: 1.3rem;
            color: #f44;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .battle-info {
            background: rgba(30, 40, 60, 0.5);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .battle-info p {
            margin: 8px 0;
            font-size: 0.9rem;
        }
        
        .battle-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }
        
        .battle-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-family: 'Orbitron', monospace;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .battle-btn.fight {
            background: linear-gradient(135deg, #f44, #ff8800);
            color: #fff;
        }
        
        .battle-btn.fight:hover {
            box-shadow: 0 0 30px rgba(255, 68, 68, 0.6);
            transform: scale(1.05);
        }
        
        .battle-btn.withdraw {
            background: rgba(100, 100, 100, 0.5);
            border: 1px solid #666;
            color: #aaa;
        }
        
        .battle-btn.withdraw:hover {
            background: rgba(100, 100, 100, 0.8);
            color: #fff;
        }

        /* Battle Results Dialog */
        #battleResultsDialog {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(5, 15, 30, 0.98);
            border: 2px solid rgba(0, 255, 136, 0.8);
            border-radius: 16px;
            padding: 30px;
            display: none;
            z-index: 101;
            min-width: 500px;
            max-width: 700px;
            box-shadow: 0 0 50px rgba(0, 255, 136, 0.4);
        }

        #battleResultsDialog h2 {
            font-family: 'Orbitron', monospace;
            font-size: 1.5rem;
            color: #0f8;
            margin-bottom: 15px;
            text-align: center;
        }

        .battle-summary {
            text-align: center;
            font-size: 1rem;
            color: #aaa;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .casualties-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .casualty-side {
            background: rgba(30, 40, 60, 0.5);
            border-radius: 8px;
            padding: 15px;
        }

        .casualty-side h4 {
            color: #0af;
            margin-bottom: 12px;
            font-size: 0.95rem;
            text-align: center;
            border-bottom: 1px solid rgba(0, 170, 255, 0.3);
            padding-bottom: 8px;
        }

        .casualty-stat {
            display: flex;
            justify-content: space-between;
            margin: 8px 0;
            font-size: 0.85rem;
        }

        .casualty-stat .stat-value {
            color: #0f8;
            font-weight: bold;
        }

        .damaged-ships {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.8rem;
        }

        .damaged-ships strong {
            color: #fa0;
            display: block;
            margin-bottom: 6px;
        }

        .damaged-ships div {
            margin: 4px 0;
            padding-left: 10px;
            color: #aaa;
        }

        .battle-results-btn {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 8px;
            background: linear-gradient(135deg, #0f8, #0c6);
            color: #000;
            font-family: 'Orbitron', monospace;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .battle-results-btn:hover {
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.6);
            transform: scale(1.02);
        }
